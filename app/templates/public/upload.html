{% extends "public/templates/public_template.html" %}

{% block title %}Upload{% endblock %}

{% block main %}

<h1 style="text-align: center;">Upload</h1>
<hr>

<form action="/upload"  onsubmit="addloader();" enctype="multipart/form-data" method="POST">
  <div class="newform">
    <input oninput="filesize(this);" single type="file" accept="audio/*" class="form-control" id="audiofile" required name="audiofile">
      <p>Drag your file here or click in this area.</p>
      <br>
      <button type="submit">Upload</button>
  </div>
</form>

<div id="loaderdiv" class="loader-wrapper" style="display: none;">
  <span class="loader"><span class="loader-inner"></span></span>
</div>

{% endblock %}


{% block script%}

<script>
  function filesize(elem){
    var size = elem.files[0].size
    document.cookie = 'filesize=' + size ;
  }

  function addloader(){
    var loaderdiv = document.getElementById("loaderdiv");
    loaderdiv.style.display = "block"
  }
</script>

{% endblock %}